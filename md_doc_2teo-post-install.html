<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>kinematics-dynamics: Simulation and Basic Control: Now what can I do?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">kinematics-dynamics
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Simulation and Basic Control: Now what can I do?</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md20"></a> Now that you have installed the basic TEO repository, you're probably wondering what to do.</p>
<h2><a class="anchor" id="autotoc_md21"></a>
Initializing the communication server</h2>
<p>Our current implementation uses <a href="http://eris.liralab.it/yarpdoc/what_is_yarp.html">YARP</a> for communication. Basic use of YARP requires the use of a centralized server. This server associates the low-level implementation of the communication ports with the names we give them. Before executing any TEO program or application, please launch a yarp server:</p>
<div class="fragment"><div class="line">[terminal 1] yarp server</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
Launching the simulator</h2>
<p>Launch with a single command:</p>
<div class="fragment"><div class="line">[terminal 2] teoSim</div>
</div><!-- fragment --><p>You should get a window similar to the one depicted on Figure 1.</p>
<p><img src="https://robots.uc3m.es/kinematics-dynamics/teoSim.png" alt="" class="inline"/> </p><div align="center">Fig. 1 - An instance of the teoSim program.</div> <h2><a class="anchor" id="autotoc_md23"></a>
Changing parameters</h2>
<p>Each layer of TEO programs has parameters that can be modified three different ways. They are parsed in the following order (the second parsing overwrites the first, and the third one overwrites both):</p>
<ul>
<li>Default parameters defined in the class header files (*.h or *.hpp extension). You must recompile the project if you change any of these parameters.</li>
<li>Configuration files (*.ini or *.xml extension). These files are downloaded from kinematics-dynamics/share and installed to kinematics-dynamics/build/share/teo with the <em>cmake</em> command we issued. Within this folder, separate folders are maintained for programs and program layers.</li>
<li>Command line (on program execution). Parameters may be modified executing a program using the following format: <em>./program --parameter new_value</em>.</li>
</ul>
<p>Let's say, for example, our graphic card supports offscreen rendering and we want <a href="https://robots.uc3m.es/kinematics-dynamics/group__teoSim.html">teoSim</a> to load an enviroment that has cameras in the simulated environment. We can execute the program touching the parameters at the command line level which, as we have said, are parsed last:</p>
<div class="fragment"><div class="line">[terminal 2] teoSim --env teo_kitchen_cameras.env.xml</div>
</div><!-- fragment --><p>This specific environment contains simulated cameras that Figure 2. You can learn how to make the connections in the <a href="group__testRaveBot.html#testRaveBot_interfacing" class="el">testRaveBot</a> documentation.</p>
<div class="image">
<img src="ravebotCompare.png" alt=""/>
</div>
<p>We can actually see the default parameters, and the final selected ones, with the <b>--help</b> parameter:</p>
<div class="fragment"><div class="line">[terminal 2] teoSim --env teo_kitchen_cameras.env.xml --help</div>
</div><!-- fragment --><p>If we want to affect this parameter at a more persistent level, we can change the configuration file. For this specific case, the <a href="https://robots.uc3m.es/kinematics-dynamics/group__teoSim.html">teoSim</a> configuration file is located at <em>$ROBOTICSLAB_KINEMATICS_DYNAMICS_ROOT/app/teoSim/conf/teoSim.ini</em>. In this file, we can see that most parameters are commented out (the <b>//</b> characters). This is a common convention to indicate these are the default parameters set in the headers (the first parsed, as explained previously). Here, we would search to subsitute the line:</p>
<div class="fragment"><div class="line">// env teo_kitchen.env.xml           /// env [xml] environment name in abs or rel</div>
</div><!-- fragment --><p>With a new, uncommented line:</p>
<div class="fragment"><div class="line">env teo_kitchen_cameras.env.xml           /// env [xml] environment name in abs or rel</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
Interfacing</h2>
<p>We can interact with this program through port commands as described in <a href="group__testRaveBot.html#testRaveBot_interfacing">testRaveBot</a> and <a href="https://robots.uc3m.es/kinematics-dynamics/group__teoSim.html#teoSim_interfacing">teoSim</a>, or through the different language APIs as can be seen in the different <a href="https://robots.uc3m.es/kinematics-dynamics/group__teo__examples.html">TEO examples</a></p>
<h2><a class="anchor" id="autotoc_md25"></a>
Even more!</h2>
<p>Done! You are now probably interested in one of the following links:</p>
<ul>
<li>install_vision_on_ubuntu</li>
<li>You can now compile and install any of the <a href="programs.html" class="el">other programs</a>.</li>
<li>These programs are actually packed up and ready to go in our <a href="https://robots.uc3m.es/kinematics-dynamics/group__teo__applications.html">kinematics-dynamics Applications (Collections of Programs)!</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
